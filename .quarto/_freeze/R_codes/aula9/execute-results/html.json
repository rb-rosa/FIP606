{
  "hash": "97fe8410551a00e29af20631608c4841",
  "result": {
    "markdown": "---\ntitle: \"aula9\"\nformat: html\n\nexecute: \n  freeze: auto\n  cache: true\n  warning: false\n---\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-1_f8e8f37f87ea797fe443d910456c7c28'}\n\n```{.r .cell-code}\nlibrary(magrittr) # para usar pipes\nlibrary(ggplot2) # para gráficos\nlibrary(dplyr)\nlibrary(readxl)\nlibrary(tidyr)\n```\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-2_41182b6073115d71d472ce9a541465b1'}\n\n```{.r .cell-code}\ndata_mg <- read_excel(\"dados-diversos.xlsx\")\nhead(data_mg)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  trat    rep  comp\n  <chr> <dbl> <dbl>\n1 Mg2       1   9  \n2 Mg2       2  12.5\n3 Mg2       3  10  \n4 Mg2       4   8  \n5 Mg2       5  13.2\n6 Mg2       6  11  \n```\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-3_572f30be03bf590bf032ec7c5991e3f2'}\n\n```{.r .cell-code}\ndata_mg %>%\n  ggplot(aes(trat, comp)) +\n  geom_boxplot(outlier.color = NA) +\n  geom_jitter(width = 0.1, shape = 1)\n```\n\n::: {.cell-output-display}\n![](aula9_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-4_b22339398bf46fb4b353aefdcbf2627a'}\n\n```{.r .cell-code}\ndat2 <- data_mg |> \n  group_by(trat) |> \n  summarise(\n    mean_comp = mean(comp),\n    sd_comp = sd(comp),\n    var_comp = var(comp),\n    n = n(),\n    se_comp = sd_comp / sqrt(n-1),\n    ci = se_comp * qt(0.025, df = 9)#intervalo de confiança\n    ) \ndat2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 7\n  trat  mean_comp sd_comp var_comp     n se_comp     ci\n  <chr>     <dbl>   <dbl>    <dbl> <int>   <dbl>  <dbl>\n1 Ctrl       15.7    1.27     1.61    10   0.424 -0.958\n2 Mg2        10.5    1.54     2.39    10   0.515 -1.16 \n```\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-5_5421836afd226018c7cfeb5b3f778d7b'}\n\n```{.r .cell-code}\ndat2 |> \n  ggplot(aes(trat, mean_comp))+\n  geom_col(width = 0.5, fill = \"steelblue\")+\n  geom_errorbar(aes(\n    ymin = mean_comp - ci,\n    ymax = mean_comp + ci), width = 0.1)+\n  ylim(0,20)+\n  labs(x = \"\", y = \"Mean size (mm)\")\n```\n\n::: {.cell-output-display}\n![](aula9_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-6_168d5d8068b25b89d47324a94539d8de'}\n\n```{.r .cell-code}\ndata_mg2 <- data_mg |> \n  pivot_wider(1,\n              names_from = trat,\n              values_from = comp)\ndata_mg2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n     rep   Mg2  Ctrl\n   <dbl> <dbl> <dbl>\n 1     1   9    13.7\n 2     2  12.5  15.9\n 3     3  10    15.7\n 4     4   8    14.2\n 5     5  13.2  15.9\n 6     6  11    16.5\n 7     7  10.8  18  \n 8     8   9.5  14.4\n 9     9  10.8  16.4\n10    10  10.4  16  \n```\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-7_78a5ae1ece768edc783a522bd9398dba'}\n\n```{.r .cell-code}\nt.test(data_mg2$Mg2, data_mg2$Ctrl, paired = F)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWelch Two Sample t-test\n\ndata:  data_mg2$Mg2 and data_mg2$Ctrl\nt = -8.1549, df = 17.354, p-value = 2.423e-07\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n -6.490393 -3.825607\nsample estimates:\nmean of x mean of y \n   10.520    15.678 \n```\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-8_883e828cfd79d4bb40be1974a90e099a'}\n\n```{.r .cell-code}\nattach(data_mg2) # vamos facilitar o uso dos vetores. Libera no ambiente os objetos\nvar.test(Mg2, Ctrl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tF test to compare two variances\n\ndata:  Mg2 and Ctrl\nF = 1.4781, num df = 9, denom df = 9, p-value = 0.5698\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 0.3671417 5.9508644\nsample estimates:\nratio of variances \n          1.478111 \n```\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-9_722b698cfeb99830f50171f68a6567b5'}\n\n```{.r .cell-code}\nshapiro.test(Mg2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  Mg2\nW = 0.97269, p-value = 0.9146\n```\n:::\n\n```{.r .cell-code}\nshapiro.test(Ctrl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  Ctrl\nW = 0.93886, p-value = 0.5404\n```\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-10_17a5bdc4f542c85fa772f097edf38a25'}\n\n```{.r .cell-code}\nqqnorm(Mg2)\nqqline(Mg2)\n```\n\n::: {.cell-output-display}\n![](aula9_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\nqqnorm(Ctrl)\nqqline(Ctrl)\n```\n\n::: {.cell-output-display}\n![](aula9_files/figure-html/unnamed-chunk-10-2.png){width=672}\n:::\n:::\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-11_517b05745b35a0ed041f73703c73c8b6'}\n\n```{.r .cell-code}\nescala <- read_excel(\"dados-diversos.xlsx\", \"escala\")\nhead(escala)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 7\n  assessment rater acuracia precisao vies_geral vies_sistematico vies_constante\n  <chr>      <chr>    <dbl>    <dbl>      <dbl>            <dbl>          <dbl>\n1 Unaided    A        0.809    0.826      0.979            1.19         0.112  \n2 Unaided    B        0.722    0.728      0.991            0.922       -0.106  \n3 Unaided    C        0.560    0.715      0.783            1.16         0.730  \n4 Unaided    D        0.818    0.819      0.999            0.948       -0.00569\n5 Unaided    E        0.748    0.753      0.993            1.10         0.0719 \n6 Unaided    F        0.695    0.751      0.925            0.802        0.336  \n```\n:::\n\n```{.r .cell-code}\nescala2 <- escala |> \n  select(assessment, rater, acuracia)|> \npivot_wider(1,\n            names_from = assessment,\n            values_from = acuracia)\nescala2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n   rater Unaided Aided1\n   <chr>   <dbl>  <dbl>\n 1 A       0.809  0.907\n 2 B       0.722  0.913\n 3 C       0.560  0.915\n 4 D       0.818  0.960\n 5 E       0.748  0.959\n 6 F       0.695  0.903\n 7 G       0.807  0.851\n 8 H       0.781  0.880\n 9 I       0.776  0.950\n10 J       0.618  0.944\n```\n:::\n:::\n\n\n#Teste t para amostras dependentes ou pareadas (para um (quando se compara com um valor padrão) ou dois grupos)\n\n\n::: {.cell hash='aula9_cache/html/unnamed-chunk-12_6d8880f8c7f3cd557884bc68d811c104'}\n\n```{.r .cell-code}\nattach(escala2)\nt_escala <- t.test(Aided1, Unaided,\n       paired = TRUE,\n       var.equal = FALSE) # Resultado:  há efeito da escala\n\nvar.test(Aided1,Unaided) # Homocedasticidade\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tF test to compare two variances\n\ndata:  Aided1 and Unaided\nF = 0.17041, num df = 9, denom df = 9, p-value = 0.01461\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 0.04232677 0.68605885\nsample estimates:\nratio of variances \n         0.1704073 \n```\n:::\n\n```{.r .cell-code}\nshapiro.test(Aided1) # Normalidade. p-value maior que 0,05, então não rejeita H0, logo os valores são homogeneos. \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  Aided1\nW = 0.92775, p-value = 0.4261\n```\n:::\n\n```{.r .cell-code}\nshapiro.test(Unaided) # p-value maior que 0,05, então não rejeita H0, logo os valores são homogeneos.\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  Unaided\nW = 0.87462, p-value = 0.1131\n```\n:::\n\n```{.r .cell-code}\nlibrary(report)\nreport(t_escala)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nEffect sizes were labelled following Cohen's (1988) recommendations.\n\nThe Paired t-test testing the difference between Aided1 and Unaided (mean\ndifference = 0.18) suggests that the effect is positive, statistically\nsignificant, and large (difference = 0.18, 95% CI [0.11, 0.26], t(9) = 5.94, p\n< .001; Cohen's d = 1.88, 95% CI [0.81, 2.91])\n```\n:::\n\n```{.r .cell-code}\nwilcox.test(Aided1, Unaided) # Teste não paramétrico equivalente ao teste t pareado. Utilizar esse teste se houvesse problemas com a normalidade e homocedaticidade.\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWilcoxon rank sum exact test\n\ndata:  Aided1 and Unaided\nW = 100, p-value = 1.083e-05\nalternative hypothesis: true location shift is not equal to 0\n```\n:::\n\n```{.r .cell-code}\nescala |> \n  ggplot(aes(assessment, precisao)) +\n  geom_boxplot(outlier.color = NA)\n```\n\n::: {.cell-output-display}\n![](aula9_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}