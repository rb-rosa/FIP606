{"title":"**Amostras dependentes ou pareadas**","markdown":{"yaml":{"title":"**Amostras dependentes ou pareadas**","format":"html","execute":{"freeze":"auto","cache":true,"warning":false}},"headingText":"Carregar pacotes","containsRefs":false,"markdown":"\n\nAula 9\n\n\n```{r}\nlibrary(magrittr) # para usar pipes\nlibrary(ggplot2) # para gráficos\nlibrary(dplyr)\nlibrary(readxl)\nlibrary(tidyr)\n\n\n\n```\n\n```{r}\ndata_mg <- read_excel(\"dados-diversos.xlsx\")\nhead(data_mg)\n```\n\n```{r}\ndata_mg %>%\n  ggplot(aes(trat, comp)) +\n  geom_boxplot(outlier.color = NA) +\n  geom_jitter(width = 0.1, shape = 1)\n```\n\n```{r}\ndat2 <- data_mg |> \n  group_by(trat) |> \n  summarise(\n    mean_comp = mean(comp),\n    sd_comp = sd(comp),\n    var_comp = var(comp),\n    n = n(),\n    se_comp = sd_comp / sqrt(n-1),\n    ci = se_comp * qt(0.025, df = 9)#intervalo de confiança\n    ) \ndat2\n```\n\n```{r}\ndat2 |> \n  ggplot(aes(trat, mean_comp))+\n  geom_col(width = 0.5, fill = \"steelblue\")+\n  geom_errorbar(aes(\n    ymin = mean_comp - ci,\n    ymax = mean_comp + ci), width = 0.1)+\n  ylim(0,20)+\n  labs(x = \"\", y = \"Mean size (mm)\")\n  \n```\n\n```{r}\ndata_mg2 <- data_mg |> \n  pivot_wider(1,\n              names_from = trat,\n              values_from = comp)\ndata_mg2\n```\n\n```{r}\nt.test(data_mg2$Mg2, data_mg2$Ctrl, paired = F)\n\n```\n\n```{r}\nattach(data_mg2) # vamos facilitar o uso dos vetores. Libera no ambiente os objetos\nvar.test(Mg2, Ctrl)\n```\n\n## Normalidade e Heterocedasticidade\n\n```{r}\nshapiro.test(Mg2)\nshapiro.test(Ctrl)\n```\n\n```{r}\nqqnorm(Mg2)\nqqline(Mg2)\nqqnorm(Ctrl)\nqqline(Ctrl)\n```\n\n```{r}\nescala <- read_excel(\"dados-diversos.xlsx\", \"escala\")\nhead(escala)\n\nescala2 <- escala |> \n  select(assessment, rater, acuracia)|> \npivot_wider(1,\n            names_from = assessment,\n            values_from = acuracia)\nescala2\n```\n\n## Teste não paramétrico\n\n```{r}\n\nattach(escala2)\nt_escala <- t.test(Aided1, Unaided,\n       paired = TRUE,\n       var.equal = FALSE) # Resultado:  há efeito da escala\n\nvar.test(Aided1,Unaided) # Homocedasticidade\nshapiro.test(Aided1) # Normalidade. p-value maior que 0,05, então não rejeita H0, logo os valores são homogeneos. \nshapiro.test(Unaided) # p-value maior que 0,05, então não rejeita H0, logo os valores são homogeneos.\nlibrary(report)\nreport(t_escala)\nwilcox.test(Aided1, Unaided) # Teste não paramétrico equivalente ao teste t pareado. Utilizar esse teste se houvesse problemas com a normalidade e homocedaticidade.\n\nescala |> \n  ggplot(aes(assessment, precisao)) +\n  geom_boxplot(outlier.color = NA)\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":true,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"aula9.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.475","editor":"visual","theme":"default","title":"**Amostras dependentes ou pareadas**"},"extensions":{"book":{"multiFile":true}}}}}