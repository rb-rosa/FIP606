{
  "hash": "e02b2ba3d5d52ca92515bff86bc8134c",
  "result": {
    "markdown": "---\ntitle: \"aula16\"\nformat: html\neditor: visual\n\nexecute: \n  freeze: auto\n  cache: true\n  warning: false\n---\n\n\n## Carregar pacotes\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-1_7595c0384d60df4e4e3e126f9d17125f'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(ggplot2)\n\nlibrary(remotes)\nremotes::install_github(\"emdelponte/r4pde\")\nlibrary(r4pde)\n\nlibrary(rnaturalearth)\nlibrary(rnaturalearthhires)\n```\n:::\n\n\n##Instalar pacote do github:\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-2_cd7e5267c57f9c971b752f2d4bd87f13'}\n\n```{.r .cell-code}\nremotes::install_github(\"ropensci/rnaturalearthhires\")\n```\n:::\n\n\n## Mapa do Brasil\n\nPara plotar o mapa do país, usa-se a função \"ne_countries\"\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-3_78b0bd196698a6cffc6a18b13f405085'}\n\n```{.r .cell-code}\nsbr <- RustSoybean\n\nBRA <- ne_countries(country = \"Brazil\", \n                    returnclass = \"sf\")\nggplot(BRA) +\ngeom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n## Plotar os estados\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-4_525fe8d68de3975b8aa4107e6a0446b0'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nggplot(BRA) +\ngeom_sf(color = \"white\",\n          fill = \"darkgreen\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Selecionar um estado\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-5_814d93df95763a3de6e2d8da1079795b'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_sf(data = MG, color = \"black\",\n            fill = \"green\")\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Localização de pontos especificos dos dados (latitude e longitude)\n\nPara plotar os pontos, precisa-se das coordenadas de onde foram coletados os pontos. Ex.: pontos de coleta - precisa-se coletar as coordenadas para plotar em um mapa (no caso de ser só o municipio, pode pegar na internet as coordenadas).\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-6_fb397898900a14c2daa48b0e1a3a5653'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr, aes(longitude, latitude), alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Separar a data em dia, mês e ano\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-7_14ad5a1301f212b1db345a810bf175c1'}\n\n```{.r .cell-code}\nsbr2 <- sbr |>\n  separate(planting, into = \n             c(\"year\", \"month\", \"day\"), sep = \"-\", remove = FALSE)\n\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr2,\n             aes(longitude, latitude, color = year), alpha = 0.5)+\n  facet_wrap(~year)+\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Inserir rosa dos ventos e a escala no mapa\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-8_377143e2043df8d3130e406ae8f57201'}\n\n```{.r .cell-code}\nlibrary(ggspatial)\nggplot(BRA) +\n  annotation_north_arrow(location = \"bl\")+\n  annotation_scale(location = \"br\")+\n  geom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr2,\n             aes(longitude, latitude, color = year, size = severity), alpha = 0.5)+\n  labs(color = \"Planting Year\")+\n  theme_minimal()+\n  theme(legend.position = \"right\")\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Malha de municípios\n\nBaixar arquivo \"shape\" dos municípios em um site do IBJE Usar pacote rgdal\n\nPara todos os municípios, chunk comentado\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-9_0024ff3975b49a3443d54ba9b9f2411c'}\n\n```{.r .cell-code}\n#library(rgdal)\n#library(sf)\n#shapefile <- st_read(\"Aula16_BR_Municipios_2022/BR_Municipios_2022.shp\")\n#ggplot(BRA) +\n  #geom_sf(data = shapefile)\n```\n:::\n\n\nPara MG\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-10_21caf6c74813d902c404c013a255b2cd'}\n\n```{.r .cell-code}\nshapefile <- st_read(\"MG_Municipios_2022/MG_Municipios_2022.shp\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `MG_Municipios_2022' from data source \n  `C:\\Users\\rbarb\\OneDrive\\Área de Trabalho\\Mestrado UFV\\Disciplinas\\FIP 606 Análise e Visualização de Dados em Fitopatologia\\Aulas\\Aula 19 - Quarto website\\website\\R_codes\\MG_Municipios_2022\\MG_Municipios_2022.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 853 features and 4 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: -51.04608 ymin: -22.92276 xmax: -39.85683 ymax: -14.23318\nGeodetic CRS:  SIRGAS 2000\n```\n:::\n\n```{.r .cell-code}\nggplot(MG)+\n  geom_sf(data = shapefile)\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}